<!doctype html>
<html lang="en" ng-app="storytime">
    <head>
        <meta charset="utf-8">
        <title>Story Time</title>
        <link rel="stylesheet" href="css/app.css"/>
    </head>
    <body>
        <div class="container">
            <div class="book-image-container">
                <img id="book-image" src="img/open_book.jpg">
            </div>
            <div class="columns" ng-controller="PageCtrl">
                <div class="column">
                    <img id="story-image" src="{{image}}">
                </div>
                <div class="column">
                    <p ng-repeat="p in text">
                    {{ p }}
                    </p>
                </div>
            </div>
        </div>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

        <!-- hack to make columns' height match image as it resizes -->
        <script type="text/javascript">
            // TODO refactor into an angular view
        var storytime_column_height_percent = 0.74;
        var storytime_top_margin_percent = 0.13;
        var $window = $(window);
        var $book_image = $('#book-image');
        var $columns = $('.column');
        var storytime_columns_sizing = function() {
            var h = $book_image.height();
            $columns.css({
                    'height': h * storytime_column_height_percent,
                    'margin-top': h * storytime_top_margin_percent,
                    });
        };
$window.load(storytime_columns_sizing);
$window.resize(storytime_columns_sizing);
</script>

<!-- In production use:
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>
-->
<script src="lib/angular/angular.js"></script>
<script src="lib/angular/angular-route.js"></script>
<script src="js/app.js"></script>
<script src="js/services.js"></script>
<script src="js/controllers.js"></script>
<script src="js/directives.js"></script>
</body>
</html>


